--================= ONE-LOADER (MAIN + DELAYED FPS) =================--

--== MAIN SCRIPT (GIỮ NGUYÊN) ==--
local MAIN_SCRIPT = [==[
repeat wait() until game:IsLoaded() and game.Players.LocalPlayer
getgenv().Key = "146c3e7ff31904fc45d4e2e4"
    getgenv().SettingFarm ={
        ["Multiple Attack"] = true, --// this is fast attack added by me
        ["Hide UI"] = true,
        ["Reset Teleport"] = {
            ["Enabled"] = false,
            ["Delay Reset"] = 3,
            ["Item Dont Reset"] = {
                ["Fruit"] = {
                    ["Enabled"] = true,
                    ["All Fruit"] = true, 
                    ["Select Fruit"] = {
                        ["Enabled"] = false,
                        ["Fruit"] = {},
                    },
                },
            },
        },
        ["White Screen"] = false,
        ["Lock Fps"] = {
            ["Enabled"] = true,
            ["FPS"] = 20,
        },
        ["Get Items"] = {
            ["Saber"] = true,
            ["Godhuman"] =  true,
            ["Skull Guitar"] = true,
            ["Mirror Fractal"] = true,
            ["Cursed Dual Katana"] = true,
            ["Upgrade Race V2-V3"] = true,
            ["Auto Pull Lever"] = true,
            ["Shark Anchor"] = true, --- if have cdk,sg,godhuman
        },
        ["Get Rare Items"] = {
            ["Rengoku"] = true,
            ["Dragon Trident"] = true, 
            ["Pole (1st Form)"] = true,
            ["Gravity Blade"]  = true,
        },
        ["Farm Fragments"] = {
            ["Enabled"]  = true,
            ["Fragment"] = 25000,
        },
        ["Auto Chat"] = {
            ["Enabled"] = false,
            ["Text"] = "sell god max dms dis luxu_75840",
        },
        ["Auto Summon Rip Indra"] = true, --- auto buy haki and craft haki legendary 
        ["Select Hop"] = { -- 70% will have it
            ["Hop Server If Have Player Near"] = true, 
            ["Hop Find Rip Indra Get Valkyrie Helm or Get Tushita"] = true, 
            ["Hop Find Dough King Get Mirror Fractal"] = true,
            ["Hop Find Raids Castle [CDK]"] = true,
            ["Hop Find Cake Queen [CDK]"] = true,
            ["Hop Find Soul Reaper [CDK]"] = true,
            ["Hop Find Darkbeard [SG]"] = true,
            ["Hop Find Mirage [ Pull Lever ]"] = true,
        },
        ["Farm Mastery"] = {
            ["Melee"] = true,
            ["Sword"] = true,
        },
        ["Buy Haki"] = {
            ["Enhancement"] = true,
            ["Skyjump"] = true,
            ["Flash Step"] = true,
            ["Observation"] = true,
        },
        ["Sniper Fruit Shop"] = {
            ["Enabled"] = true, -- Auto Buy Fruit in Shop Mirage and Normal
            ["Fruit"] = {"Kitsune-Kitsune", "Leopard-Leopard", "Dragon-Dragon", "Control-Control", "Dough-Dough", "T-Rex-T-Rex", "Mammoth-Mammoth", "Buddha-Buddha", "Lightning-Lightning", "Yeti-Yeti", "Gas-Gas"},
        },
        ["Lock Fruit"] = {"Kitsune-Kitsune", "Leopard-Leopard", "Dragon-Dragon", "Control-Control", "Dough-Dough", "T-Rex-T-Rex", "Mammoth-Mammoth", "Buddha-Buddha", "Lightning-Lightning", "Yeti-Yeti", "Gas-Gas"},
        ["Webhook"] = {
            ["Enabled"] = false,
            ["WebhookUrl"] = "",
        }
    }
loadstring(game:HttpGet("https://raw.githubusercontent.com/obiiyeuem/vthangsitink/main/BananaCat-kaitunBF.lua"))()
task.delay(6,function()
loadstring(game:HttpGet("https://raw.githubusercontent.com/SkibidiHub111/BloxFruit/refs/heads/main/ConfigBanana"))()
end)
]==]

task.spawn(function()
    local f, err = loadstring(MAIN_SCRIPT, "MainWrapper")
    if not f then warn("[MAIN] load error: ", err) return end
    pcall(f)
end)

--== FPS OVERLAY: DELAY 10 GIÂY, TRÊN GIỮA (MÀU ĐỎ) ==--
task.delay(10, function()
    local RS = game:GetService("RunService")
    local CoreGui = game:GetService("CoreGui")

    local old = CoreGui:FindFirstChild("FPSOverlay_ChatGPT")
    if old then old:Destroy() end

    local gui = Instance.new("ScreenGui")
    gui.Name = "FPSOverlay_ChatGPT"
    gui.IgnoreGuiInset = true
    gui.ResetOnSpawn = false
    gui.ZIndexBehavior = Enum.ZIndexBehavior.Global
    gui.DisplayOrder = 999999
    gui.Parent = CoreGui

    local lbl = Instance.new("TextLabel")
    lbl.AnchorPoint = Vector2.new(0.5, 0)
    lbl.Position = UDim2.new(0.5, 0, 0, 10) -- giữa trên
    lbl.Size = UDim2.new(0, 300, 0, 80)
    lbl.BackgroundTransparency = 1
    lbl.Text = "FPS"
    lbl.FontFace = Font.new("rbxasset://fonts/families/GothamSSm.json", Enum.FontWeight.ExtraBold)
    lbl.TextColor3 = Color3.fromRGB(255, 0, 0)     -- << MÀU ĐỎ
    lbl.TextStrokeTransparency = 0.25              -- viền rõ hơn
    lbl.TextStrokeColor3 = Color3.fromRGB(0, 0, 0) -- viền đen
    lbl.TextXAlignment = Enum.TextXAlignment.Center
    lbl.TextYAlignment = Enum.TextYAlignment.Top
    lbl.TextScaled = true
    lbl.ZIndex = 1001
    lbl.Parent = gui

    local shadow = lbl:Clone()
    shadow.TextColor3 = Color3.fromRGB(0, 0, 0)
    shadow.TextTransparency = 0.2
    shadow.Position = UDim2.new(0.5, 2, 0, 12)
    shadow.ZIndex = 1000
    shadow.Parent = gui

    local smoothed, accum = 60, 0
    RS.RenderStepped:Connect(function(dt)
        local fps = 1 / math.max(dt, 1/1000)
        smoothed = smoothed + (fps - smoothed) * 0.12
        accum += dt
        if accum >= 0.1 then
            local n = tostring(math.floor(smoothed + 0.5))
            lbl.Text = n
            shadow.Text = n
            accum = 0
        end
    end)
end)

--================= /ONE-LOADER =================--
